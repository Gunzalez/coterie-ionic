<ion-header>
  <ion-navbar>
    <ion-title>
      Pot Details
    </ion-title>

  </ion-navbar>
</ion-header>

<ion-content>

  <ion-grid>
    <ion-row>
      <ion-col col-10>
        <span class="my-label">Pot name</span>
        <span class="potName">{{ getPlanName() }}&nbsp;</span>
      </ion-col>
      <ion-col col-2>
        <span class="my-label">&nbsp;</span>
        <button ion-button full class="btn" (click)="setAmount()" *ngIf="canSetAmount()" icon-only>
          <ion-icon name="checkmark"></ion-icon>
        </button>
      </ion-col>
    </ion-row>

    <ion-row>
      <ion-col col-10>
        <span class="my-label">Saving Amount</span>
        <!--<ion-input type="number" maxlength="4" pattern="\d{1,15}" max={{max}} min="1" [(ngModel)]="savingsAmount" class="input"></ion-input>-->
        <span class="savingAmount">
        Â£{{savingsAmount}}.00</span>
      </ion-col>
      <ion-col col-2>
        <button ion-button full class="btn" [disabled]="hasReachedMax() || isPlanInProgress()" (click)="amountPlus()" icon-only>
          <ion-icon name="add"></ion-icon>
        </button>
        <button ion-button full class="btn" [disabled]="hasReachedMin() || isPlanInProgress()" (click)="amountMinus()" icon-only>
          <ion-icon name="remove"></ion-icon>
        </button>
      </ion-col>
    </ion-row>

    <ion-row>
      <ion-col col-12>
        <button ion-button full (click)="viewParticipants()" [disabled]="!contactsList.length" *ngIf="!isPlanInProgress()">
          <ion-icon [name]="'people'"></ion-icon>&nbsp;Add/Remove participants
        </button>
        <button ion-button full disabled *ngIf="isPlanInProgress()">
          Participants locked
        </button>
      </ion-col>
    </ion-row>
  </ion-grid>

  <ion-list-header class="sp-header">
    Schedule ({{schedule.length}})
  </ion-list-header>

  <ion-list reorder="true" (ionItemReorder)="reorderItems($event)">
    <ion-item-sliding *ngFor="let participant of schedule; let index = index">
      <ion-item>
        <p class="name participant">{{participant.name}}</p>
      </ion-item>
      <ion-item-options side="left">



        <button ion-button [color]="isPlanInProgress() ? 'secondary' : 'danger'" (click)="onSwipeRemoveParticipant(participant, index)">
          <ion-icon [name]="isPlanInProgress() ? 'cash' : 'trash'"></ion-icon>
        </button>

      </ion-item-options>
    </ion-item-sliding>
  </ion-list>

  <ion-grid>
    <ion-row>
      <ion-col col-12>
        <button ion-button full [disabled]="!canStartPlan() || isPlanInProgress()" (click)="startPlan()" color="{{ getPlanStatusColor() }}">
          <ion-icon name="power"></ion-icon>&nbsp;{{ getStartButtonLabel() }}
        </button>
      </ion-col>
    </ion-row>
  </ion-grid>

</ion-content>
